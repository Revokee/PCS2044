{% extends "base.html" %}
{% load extra_order %}
	{% block content %}
		<div class="row">
            <div class="col-md-12">
               <!-- BEGIN PAGE TITLE & BREADCRUMB-->
               <h3 class="page-title">
                  Mapas
               </h3>
               <ul class="page-breadcrumb breadcrumb">
                  <li>
                     <i class="icon-home"></i>
                     <a href="/">Home</a> 
                     <i class="icon-angle-right"></i>
                  </li>
                  <li>
                     <a href="#">Mapas</a>
                     <i class="icon-angle-right"></i>
                  </li>
                  <li><a href="#">Google Maps</a></li>
               </ul>
               <!-- END PAGE TITLE & BREADCRUMB-->
            </div>
         </div>
         <!-- END PAGE HEADER-->
         <!-- BEGIN PAGE CONTENT-->
         <div class="row">
            <div class="col-md-12">
               <!-- BEGIN BASIC PORTLET-->
               <div class="portlet solid blue">
                  <div class="portlet-title">
                     <div class="caption"><i class="icon-reorder"></i>Localizacao do {{deliver.name}} as {{deliver.updated_at|date:'G:i'}}</div>
                     <div class="tools">
                        <a href="javascript:;" class="collapse"></a>
                        <a href="javascript:;" class="reload"></a>
                        <a href="javascript:;" class="remove"></a>
                     </div>
                  </div>
                  <div class="portlet-body">
                     <div id="map-canvas" class="gmaps"></div>
                  </div>
               </div>
               <!-- END BASIC PORTLET-->
            </div>       
         </div>
         <!-- END PAGE CONTENT-->
      <script type="text/javascript"
         src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCm7rYia73cSfqcl5bBtRsk9fjU-E8B5ak&sensor=false">
      </script>
      
      <script type="text/javascript">
         function initialize() {
            var myLatlng = new google.maps.LatLng({{deliver.latitude}},{{deliver.longitude}});
            var mapOptions = {
               zoom: 16,
               center: myLatlng
            }
  
            var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

            var marker = new google.maps.Marker({
               position: myLatlng,
               map: map,
               title: 'Entregador Aqui!'
            });
         }

google.maps.event.addDomListener(window, 'load', initialize);
      </script>
	{%endblock%}
